<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="操作系统(一), Hexo">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>操作系统(一) | Hexo</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 4.2.1"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Hexo</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Hexo</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/18.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">操作系统(一)</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/">
                                <span class="chip bg-color">操作系统 进程管理</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="post-category">
                                操作系统
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-07-19
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <ul>
<li>TOC<br>{:toc}</li>
</ul>
<h1 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h1><h2 id="第一章-概述"><a href="#第一章-概述" class="headerlink" title="第一章  概述"></a>第一章  概述</h2><h3 id="1-1-操作系统的概念"><a href="#1-1-操作系统的概念" class="headerlink" title="1.1  操作系统的概念"></a>1.1  操作系统的概念</h3><p>计算机系统自下而上可粗分为四个部分：硬件、操作系统、应用程序和用户。<strong>操作系统管理各种计算机硬件，为应用程序提供基础，并充当计算机硬件和用户的中介。</strong></p>
<p>硬件，如中央处理器、内存、输入输出设备等，提供了基本的计算资源。应用程序，如字处理程序、电子制表软件、编译器、网络浏览器等，规定了按何种方式使用这些资源来解决用户的计算问题。操作系统控制和协调各用户的应用程序对硬件的使用。</p>
<p><strong>操作系统是指控制和管理整个计算机系统的硬件和软件资源，并合理的组织调度计算机的工作和资源的分配，以提供给用户和其他软件方便的接口和环境集合</strong>。它是计算机系统中<strong>最基本的系统软件</strong>。</p>
<h3 id="1-2-操作系统的特征"><a href="#1-2-操作系统的特征" class="headerlink" title="1.2 操作系统的特征"></a>1.2 操作系统的特征</h3><p><strong>操作系统</strong>是一种<strong>系统软件</strong>，他有自己的特殊性即基本特征，操作<strong>系统的基本特征包括并发、共享、虚拟和异步</strong>。</p>
<h4 id="1-并发"><a href="#1-并发" class="headerlink" title="1. 并发"></a>1. 并发</h4><p>并发是指<strong>两个或多个事件在同一时间间隔内发生</strong>。</p>
<p>在多道程序环境下，一段时间内宏观上有多个程序在同时执行，而在同一时刻，单处理器环境下实际上只有一个程序在执行。</p>
<p>操作系统的<strong>并发</strong>是通过<strong>分时</strong>得以实现的。</p>
<p>操作系统的<strong>并发性</strong>是指计算机系统中同时存在多个运行着的程序，因此它具有处理和调度多个程序同时执行的能力。</p>
<p>在操作系统中，<strong>引入进程的目的</strong>是使程序能并发执行。</p>
<h4 id="2-共享"><a href="#2-共享" class="headerlink" title="2. 共享"></a>2. 共享</h4><p><strong>资源共享即共享</strong>，是指系统中的资源可供内存中多个并发执行的进程共同使用。共享分为以下两种资源共享方式：</p>
<ol>
<li><strong>互斥共享方式</strong></li>
</ol>
<p>系统中的某些资源，如打印机。仅当进程访问完并释放该资源后，才允许另进程对该资源进行访问。</p>
<ol start="2">
<li><strong>同时访问方式</strong></li>
</ol>
<p>系统中还有一种资源，允许在一段时间内由多个进程“同时”对它进行访问。“同时” 是宏观上的，而在微观上，这些进程可能是交替的对该资源进行访问即 ”分时共享“。</p>
<h4 id="3-虚拟"><a href="#3-虚拟" class="headerlink" title="3. 虚拟"></a>3. 虚拟</h4><p>虚拟是指把<strong>一个物理上的实体变为若干个逻辑上的对应物</strong>。</p>
<p>用于实现虚拟的技术，成为<strong>虚拟技术</strong>。在操作系统中利用了多种虚拟技术，分别用来实现<strong>虚拟处理器</strong>、<strong>虚拟内存</strong>和<strong>虚拟外部设备</strong>。</p>
<p><strong>虚拟处理器</strong>：通过<strong>多道程序设计技术</strong>，让多道程序<strong>并发执行</strong>的方法，来分时使用一台处理器的。虽然只有一台处理器，但他能同时为多个用户服务，是<strong>每个终端用户都认为是有一个中央处理器在为他服务</strong>。利用多道程序设计技术，<strong>把一台物理上的CPU虚拟为多台逻辑上的CPU</strong>，称为虚拟处理器。</p>
<p><strong>虚拟内存</strong>：将一台机器的物理存储器变为虚拟存储器，一边从逻辑上来扩充存储器的容量。</p>
<p><strong>虚拟设备</strong>：将一台物理 IO 设备虚拟为 多台逻辑上的 IO 设备，并允许每个用户占用一台逻辑上的 IO 设备。</p>
<p>操作系统的虚拟技术可归纳为：时分复用技术 和 空分复用技术。</p>
<h4 id="4-异步"><a href="#4-异步" class="headerlink" title="4. 异步"></a>4. 异步</h4><p>在多道程序下，允许多个程序并发执行，但由于资源有限，进程的执行不是一贯到底，而是走走停停，以不可预知的速度向前推进，这就是进程的异步性。</p>
<h3 id="1-3-操作系统的目标和功能"><a href="#1-3-操作系统的目标和功能" class="headerlink" title="1.3 操作系统的目标和功能"></a>1.3 操作系统的目标和功能</h3><p> <strong>1） 操作系统作为计算机系统资源的管理着</strong></p>
<ul>
<li>处理器管理</li>
</ul>
<p>在多道程序环境下，处理器的分配和运行都是以<strong>进程</strong>为基本单位。</p>
<p><strong>进程管理的主要功能</strong>有: 进程控制，进程同步，进程通信，死锁处理，处理器调度等。</p>
<ul>
<li>存储器管理</li>
</ul>
<p>存储器管理的<strong>主要任务</strong>是为多通道程序的运行提供良好的环境，方便用户使用以及提高内存的利用率。</p>
<p><strong>存储器管理的主要功能</strong>有：内存分配，地址映射，内存保护与共享，内存扩充等。</p>
<ul>
<li>文件管理</li>
</ul>
<p><strong>文件管理主要包括</strong>：文件的存储空间管理，目录管理及文件读写管理及保护等。</p>
<ul>
<li>设备管理</li>
</ul>
<p><strong>设备管理的主要任务</strong>：完成用户的 IO 请求，方便用户使用各种设备，并提高设备的利用率。</p>
<p><strong>设备管理主要包括</strong>：混充管理，设备分配，设备处理，虚拟设备等。</p>
<p><strong>2） 操作系统作为用户与计算机硬件系统之间的接口</strong></p>
<ul>
<li>命令接口</li>
<li>程序接口</li>
</ul>
<h3 id="1-4-操作系统的发展"><a href="#1-4-操作系统的发展" class="headerlink" title="1.4 操作系统的发展"></a>1.4 操作系统的发展</h3><ol>
<li><strong>手工操作阶段</strong></li>
<li><strong>脱机输入输出阶段</strong></li>
<li><strong>批处理阶段</strong><ol>
<li>单道批处理系统</li>
<li>多道批处理系统</li>
</ol>
</li>
<li><strong>分时操作系统</strong></li>
</ol>
<p>所谓分时系统是把处理器的运行时间分为很短的时间片，按时间片轮流把处理器分配给各联机作用使用。</p>
<ol start="5">
<li><strong>实时操作系统</strong></li>
</ol>
<p>实时系统的主要特定是：实时性和可靠性。</p>
<ol start="6">
<li><strong>网络操作系统和分布式计算机系统</strong></li>
<li><strong>个人计算机操作系统</strong></li>
</ol>
<h3 id="1-5-操作系统的运行环境"><a href="#1-5-操作系统的运行环境" class="headerlink" title="1.5 操作系统的运行环境"></a>1.5 操作系统的运行环境</h3><p>计算机系统中，通常 CPU 执行两种不同性质的程序：</p>
<ul>
<li>操作系统内核程序</li>
<li>用户自编程序或系统外城的应用程序</li>
</ul>
<p>操作系统在具体实现上划分为 <strong>用户态 和 核心态</strong>。</p>
<p><strong>内核是计算机上配置的最底层软件</strong>。不同系统对内核的定义稍有区别，大多数操作系统内核包括四个方面的内容：</p>
<ul>
<li><strong>时钟管理</strong></li>
</ul>
<p>① 计时：向用户提供标准的系统时间。</p>
<p>② 通过时钟中断的管理，可以实现进程的切换。</p>
<p>例如：</p>
<p>​    在分时操作系统中，采用时间片轮转调度的实现；</p>
<p>​    在实时系统中，按截止时间控制运行的实现；</p>
<p>​    在批处理系统中，通过时钟管理来衡量一个作业的运行程度等</p>
<ul>
<li><strong>中断机制</strong></li>
</ul>
<p>引入中断技术的初衷是提高多道程序运行环境中CPU的利用率，而且主要是针对外部设备的。</p>
<p>例如：</p>
<p>​    键盘或鼠标信息的输入、进程的管理和调度</p>
<p>​    系统功能的调用、设备驱动、文件访问。</p>
<ul>
<li><strong>原语</strong></li>
</ul>
<p>定义原语的直接方式是关闭中断，让他的所有动作不可分割的进行完再打开中断。</p>
<p>系统中的设备驱动，CPU 切换，进程通信等功能中的部分操作都可以定义为原语。</p>
<ul>
<li><strong>系统控制的数据结构及处理</strong></li>
</ul>
<p>在操作系统中引入<strong>核心态</strong>和<strong>用户态</strong>后，操作系统内核工作在核心态，而用户程序工作在用户态。但系统不允许用户程序实现核心态的功能，而它们又必须使用这些功能。</p>
<p><strong>中断</strong>：外中断，指来自 CPU 执行指令以外的事件发生，如设备发出的 IO 结束中断。</p>
<p><strong>异常</strong>：内终点，指源自 CPU 执行指令内部的时间。</p>
<p><strong>操作系统的运行环境</strong>可以理解为：用户通过操作系统运行上层程序，而这个上层程序的运行以来与操作系统的底层管理程序提供服务支持，当需要管理程序服务时，系统则通过<strong>硬件中断机制</strong>进入核心态，运行管理程序；另外也可能是程序运行出现异常情况，被动的需要管理程序的服务，这是就<strong>通过异常处理</strong>来进入核心态。当管理程序运行结束时，用户程序要继续进行，则通过相应保存程序现场推出中断处理程序或异常处理程序，返回断点处继续执行。</p>
<h2 id="第二章-进程管理"><a href="#第二章-进程管理" class="headerlink" title="第二章 进程管理"></a>第二章 进程管理</h2><h3 id="2-1-进程与线程"><a href="#2-1-进程与线程" class="headerlink" title="2.1 进程与线程"></a>2.1 进程与线程</h3><p><strong>1）进程的概念</strong></p>
<p>引入进程的概念，以便更好地描述和控制程序的并发执行，实现操作系统的并发性和共享性。</p>
<p><strong>为了使参与并发执行的程序能独立的运行</strong>，必须为之配置一个专门的数据结构，称之为 <strong>进程控制块</strong>。<strong>系统利用 PCB 来描述进程的基本情况和运行状态，进而控制和管理进程</strong>。</p>
<p>进程实体（进程映像）：<strong>程序段，相关数据段 和 PCB</strong> 三部分构成。</p>
<p>创建进程，实际上是创建进程映像中的 PCB，撤销进程，实质上是撤销进程的 PCB。</p>
<p>不同角度，进程有不同的定义，比较经典的定义有：</p>
<ul>
<li>进程是程序的一次执行过程</li>
<li>进程是一个程序及其数据在处理器上顺序执行时所发生的活动。</li>
<li><strong>进程是具有独立功能的程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位</strong>。</li>
</ul>
<p><strong>2）进程的特征</strong></p>
<p>进程是由多程序的并发执行而引出的。</p>
<ol>
<li><strong>动态性</strong>：进程是程序的一次执行，他有着创建、活动、暂停、终止等过程，具有一定的生命周奇奇，是动态的产生、变化和消亡的。动态性是进程最基本的特征</li>
<li><strong>并发性</strong>：多个进程实体，同存于内存中，能在一段时间内同时运行。<strong>引入进程的目的就是为了是程序能与去其他进程的程序并发执行，以提高资源利用率</strong>。</li>
<li><strong>独立性</strong>：进程实体是一个能独立运行、独立获得资源和独立接收调度的基本单位。</li>
<li><strong>异步性</strong></li>
<li><strong>结构性</strong>：进程实体是由程序段、数据段和进程控制端三部分组成的。</li>
</ol>
<h3 id="2-2-进程的状态与转换"><a href="#2-2-进程的状态与转换" class="headerlink" title="2.2 进程的状态与转换"></a>2.2 进程的状态与转换</h3><p>通常进程有以下五种状态，前三种是进程的基本状态：</p>
<ul>
<li><strong>就绪状态</strong>。进程获得了除 CPU 之外的一切所需资源，一旦得到处理器即可运行。</li>
<li><strong>运行状态</strong>。在单处理器，每一时刻最多只有一个进程处于运行状态。</li>
<li><strong>阻塞状态</strong>。进程正在等待某一事件而暂停运行，如等待某资源为可以，或等待输入输出的完成。</li>
<li><strong>创建状态</strong>。创建进程通常需要多个步骤：首先申请一个空白的PCB，并向PCB中填写一些控制和管理进程的信息；然后由系统为该进程分配运行时所必须的资源；最后把该进程转入到就绪状态</li>
<li><strong>结束状态</strong>。</li>
</ul>
<h3 id="2-3-进程控制"><a href="#2-3-进程控制" class="headerlink" title="2.3 进程控制"></a>2.3 进程控制</h3><p>进程控制的<strong>主要功能是对系统中所有进程实施有效地管理</strong>。</p>
<p>在操作系统中，一般把进程控制用的程序段称为<strong>原语</strong>。</p>
<p><strong>操作系统创建一个新进程的过程如下（创建原语）</strong>：</p>
<p>1） 为新进程分配一个为我一个进程标示号，并申请一个空白的PCB。</p>
<p>2） 为进程分配资源，为新进程的程序和数据，以及用户占分配必要的空间。</p>
<p>3） 初始化PCB，主要包括初始化标识信息、初始化处理器状态信息和初始化处理器控制信息，以及设置进程的空闲及。</p>
<p>4） 如果进程就绪队列能够接纳新进程，就将新进程插入到就绪队列，等待被调度运行。</p>
<p><strong>操作系统终止进程的过程如下：（撤消原语）</strong>：</p>
<p>1） 根据被终止进程的标示符，检索PCB，从中读出该进程的状态。</p>
<p>2） 若被终止进程处于执行状态，立即终止该进程的执行，将处理器资源分配给其他进程。</p>
<p>3） 若该进程还有子进程，则应将其所有子进程终止。</p>
<p>4） 将该进程所拥有的资源、或归还给父进程或归还给操作系统。</p>
<p>5） 将该PCB从所在队列（链表）中删除。</p>
<p><strong>引起进程终止的事件主要有</strong>：正常结束、表示进程的任务已经完成和准备退出运行。</p>
<p><strong>异常结束</strong>：指进程在运行时，发生了某种异常事件，是程序无法继续运行。</p>
<p><strong>外界干预</strong>：指进程外界的请求而终止。如操作员或操作系统干预，父进程请求和父进程终止。</p>
<h3 id="2-4-进程的阻塞和唤醒"><a href="#2-4-进程的阻塞和唤醒" class="headerlink" title="2.4 进程的阻塞和唤醒"></a>2.4 进程的阻塞和唤醒</h3><p>正在执行的进程，犹豫期待的某些时间为发生，如请求系统资源失败、等待某种操作的完成、新数据尚未到达或无心工作可做等，则由<strong>系统自动执行阻塞原语</strong>，使自己由运行状态变为阻塞状态。可见，<strong>进程的阻塞是进程自身的一种主动行为</strong>。</p>
<p>注意：<strong>Block原语</strong>和<strong>Wakeup原语</strong>是一对作用刚好相反的原语，必须成对使用。<strong>Block原语是由被阻塞进程自我调用实现</strong>的，而Wakeup原语则是由一个与被唤醒进程相合作或被其他相关进程调用实现的。</p>
<p><strong>无论什么样的进程操作，都是在内核执行的。</strong></p>
<p><strong>进程切换是指当前正在运行的进程被转换到其他状态后，再回到运行继续执行的过程</strong>，这个过程中，进程的运行环境产生了实质性的变化。进程切换的过程如下：</p>
<p>1） 保存处理器上下文，包括程序计数器和其他寄存器。</p>
<p>2） 更新PCB信息。</p>
<p>3） 把进程的PCB移入相应的队列，如就绪、在某时间阻塞等队列。</p>
<p>4） 选择另一个进程执行，并更新其PCB。更新内存管理的数据结构。</p>
<p>5） 恢复处理器的上下文。</p>
<h3 id="2-5-进程的结构"><a href="#2-5-进程的结构" class="headerlink" title="2.5 进程的结构"></a>2.5 进程的结构</h3><p><strong>进程是操作系统的资源分配和独立运行的基本单位。</strong></p>
<p>PCB 主要包括：进程描述信息，进程控制和管理信息，资源分配清单和处理器相关信息等。</p>
<p><strong>为了方便进程的调度和管理，需要将各进程的PCB用适当的方法组织起来</strong>。目前，常用的组织方式有<strong>连接方式</strong>和<strong>索引方式</strong>两种。</p>
<p><strong>程序段</strong>就是能被进程调度程序调度到CPU执行的程序代码段。注意，程序可以被多个进程共享，就是说多个进程可以运行同一个程序。</p>
<p>一个进程的数据段，可以是进程对应的程序价格处理的原始数据，也可以是程序执行时产生的中间或最终结果。</p>
<h3 id="2-6-进程的通信"><a href="#2-6-进程的通信" class="headerlink" title="2.6 进程的通信"></a>2.6 进程的通信</h3><p>进程通信是进程之间的数据交换。<strong>PV 操作是低级通信方式</strong>。</p>
<p><strong>高级通信方式</strong>是指以较高的效率传输大量数据的通信方式。</p>
<p>高级通信方法可分为<strong>共享存储</strong>，<strong>消息传递</strong>和<strong>管道通信</strong>三大类。</p>
<ul>
<li><strong>共享存储</strong></li>
</ul>
<p>在通信的进程之间存在着一款可以直接访问的共享空间。通过对这块共享空间的读写操作实现进程之间的消息交换。在共享存储方法中，需要是由同步互斥工具。</p>
<p>需要注意的是：用户进程空间一般都是相互独立的，要想让两个用户进程共享空间，必须通过特殊系统调用实现，而进程内的线程是自然共享进程空间的。</p>
<ul>
<li><strong>消息传递</strong></li>
</ul>
<p>在消息传递中，进程间的数据交换，是以格式化的小型 Message 为单位的。</p>
<ul>
<li><strong>管道通信</strong></li>
</ul>
<p>管道通信是消息传递的一种特殊方式。谓<strong>管道，就是用于连接一个读进程和一个写进程以实现他们之间通信的一个共享文件，又名为pipe文件</strong>。向管道或共享文件提供输入的发送进程，以字符流的形势将大量的数据送入写管道；而接收管道输出的接收进城，则从管道中接受数据。</p>
<h3 id="2-7-线程"><a href="#2-7-线程" class="headerlink" title="2.7 线程"></a>2.7 线程</h3><p><strong>引入进程的目的</strong>：为了使多道程序能并发执行，以提高资源利用率和系统吞吐量。</p>
<p><strong>引入线程的目的</strong>：为了减少程序在并发执行时所付出的时空开销，提高操作系统的并发性能。</p>
<p>线程：是一个基本的 CPU 执行单元，也是程序执行流的最小单元</p>
<p>线程有 线程 ID，程序计数器，寄存器集合和堆栈组成。</p>
<p><strong>线程是进程中的一个实体，是被系统独立调度和分派的基本单位</strong>。</p>
<p><strong>1） 进程 和 线程的比较</strong></p>
<ul>
<li><strong>调度</strong>：在引入线程的操作系统中，线程是独立调度的基本单位，进程是资源拥有的基本单位。</li>
<li><strong>拥有资源</strong>：进程是拥有资源的基本单位，而线程不拥有系统资源，单线程可以防伪其隶属于进程的系统资源。</li>
<li><strong>并发性</strong>：在引入线程的操作系统中，不仅进程之间可以并发执行，线程之间也可以并发执行。</li>
<li><strong>系统开销</strong>：线程开销极小</li>
<li><strong>地址空间和其他资源</strong>：进程的地址空间之间相互独立，同一进程的各线程间共享进程的资源，进程内的线程对进程外的其他进程不可见。</li>
<li><strong>通信方面</strong>：进程间通信需要进程同步和互斥手段的辅助，以保证数据的一致性，而线程间可以直接读写进程数据段来进行通信。</li>
</ul>
<p><strong>2） 线程的属性</strong></p>
<p>线程的主要属性如下：</p>
<p>1） 线程是一个轻型实体，它不拥有系统资源，但每个线程都应有一个唯一的标识符和一个线程控制块，线程控制块记录了线程执行的寄存器和栈等现场情况。</p>
<p>2） 不同的线程可以执行相同的程序，即同一个服务程序被不同的用户调用时，操作系统为他们创建不同的线程。</p>
<p>3） 统一进程中的各个线程共享该进程所拥有的系统资源。</p>
<p>4） 线程是<strong>处理器的独立调度单位</strong>，多个线程是可以并发执行的。</p>
<p>5） 一个线程被创建后便开始了它的生命周期，直至终止，线程在生命周期内会经历等待态、就绪态和运行态等各种状态变化。</p>
<p><strong>3） 线程的实现方式</strong></p>
<p>线程的实现可以分为两类：用户级线程和内核级线程。</p>
<p><strong>4）多线程模型</strong></p>
<p>有些系统同时支持用户线程和内核线程，由此产生了不同的多线程模型，即<strong>实现用户级线程和内核级线程的连接方式</strong>。</p>
<p>1） 多对一模型。多对一模型将多个用户级线程映射到一个内核级线程。<strong>线程管理在用户空间完成</strong>。</p>
<p>2） 一对一模型。</p>
<p>3） 多对多模型。</p>
<p>特点：克服了多对一模型的并发度不高的缺点，又克服了一对一模型中一个用户进程占用太多内核级线程，开销太大的缺点。</p>
<h3 id="2-8-线程的调度"><a href="#2-8-线程的调度" class="headerlink" title="2.8 线程的调度"></a>2.8 线程的调度</h3><p><strong>1）调度的概念</strong></p>
<p>在多道程序系统中，进程的数量往往多于处理器的个数，进程争用处理器的情况在所难免。<strong>处理器调度是对处理器进行分配，就是从就绪队列中，按照一定的算法，选择一个进程并将处理器分配给他运行，以实现进程的并发执行</strong>。</p>
<p>处理器调度是多道程序操作系统的基础。</p>
<p>一个作业从提交开始到完成，一般经历一下三级调度：</p>
<ul>
<li><strong>作业调度</strong>：高级调度，主要任务是：按一定的原则从外存上处于后备状态的作业中挑选一个或多个作业，给他们分配内存，输入输出设备等必要的资源。<strong>并建立相应的进程，以使他们获得竞争处理器的权利</strong>。</li>
<li><strong>中级调度</strong>：内存调度，中级调度又称内存调度。引入中级调度视为了提高内存利用率和系统吞吐率，为此，<strong>应使那些暂时不能运行的进程调至外存等待</strong>，把此时的进程状态称为<strong>挂起状态</strong>。当他们已具备运行条件且内存有稍有空闲时，由中级调度来决定，把外存上那些已具备运行条件的就绪进程，在重新调入内存，并修改其状态为就绪状态，挂在就绪队列上等待。</li>
<li><strong>进程调度</strong>：低级调度，主要任务是按<strong>照某种方法和策略从就绪队列中选取一个进程，将处理器分配给它</strong>。<strong>进程调度是操作系统中最基本的一种调度</strong>，在一般操作系统中都不需配置进程调度。进程调度的频率很高，一般几十毫秒一次。</li>
</ul>
<p><strong>作业调度</strong>从外存的后备队列中选择一批作业进入内存，为他们建立进程。这些进程被送入就绪队列。<strong>进程调度</strong>从就绪队列中选出一个进程，并把<strong>其状态改为运行状态，把CPU分配给它</strong>。中级调度是位于高级调度和低级调度之间的一种调度。为了提高内存的利用率，系统<strong>将那些暂时不能运行的进程挂起来。</strong>当内存空间宽松时，通过中级调度选择具备运行条件的进程，将其唤醒。</p>
<p><strong>2） 调度的时机，切换与过程</strong></p>
<p>进程调度和切换程序是操作系统内核程序。当请求调度的事件发生后，才可能会运行进程调度程序，当调度了新的就绪进程后，才会去进行进程间的切换。</p>
<p>现在操作系统中，<strong>不能进行进程的调度与切换的情况有以下几种</strong>：</p>
<p>1） 在处理中断的过程中：中断处理过程复杂，在实现上很难做到，而且中断处理时系统工作的一部分，逻辑上不属于某一进城，不应被剥夺处理器资源。</p>
<p>2） 进程在操作系统内核程序临界区中：进入临界区后，需要独占式的访问共享数据，理论上必须加锁，以防止其他并行程序的进入，在解锁前不应该切换到其他进程，以加快该共享数据的释放。</p>
<p>3） 其他需要完全屏蔽中断的原子操作过程中：如加锁、解锁、中断现场保护、恢复等等源自操作。在原子过程中，连中断都要屏蔽，更不应该进行进程的切换。</p>
<p>如果在上述过程中发生了引起调度的条件，并不能马上进行调度和切换，<strong>应置系统请求调度标志</strong>，知道上述过程结束后才能进行相应的调度和切换。</p>
<p><strong>应该进行进程的调度与切换的情况有</strong>：</p>
<p>1） 当发生引起调度条件且当前进程无法继续运行下去时，可以马上进行调度与切换。如果操作系统只在这种情况下进行进程调度，就是非剥夺调度。</p>
<p>2） 当中断处理结束后或自陷处理结束后，返回被中断进程的用户态程序执行现场前，若置上请求调度标志，即可马上进行进程调度与切换。如果操作系统支持这种情况下的运行调度程序，就实现了剥夺方式的调度。</p>
<p>进程切换往往在调度完成后立刻发生，它要求保存源进程当前切换点的线程信息，恢复被调度进程的现场信息。<strong>线程切换时，操作系统内核将远近程的线程信息推入到当前进程的内核堆栈来保存他们，并更新堆栈指针。</strong>内核完成从新进程的内核栈中装入新进程的线程信息、更新当前运行进程空间指针、重设PC寄存器等相关工作之后，开始运行新的进程。</p>
<p><strong>3） 进程调度方式</strong></p>
<p>所谓<strong>进程调度方式是指当某一个进程正在处理器上执行时，若有某个更为重要或紧迫的进程需要处理</strong>，即有优先权更高的进程进入就绪队列，此时因如何分配处理器。</p>
<p>通常有以下两种进程调度方式：</p>
<ul>
<li><strong>非剥夺调度方式</strong></li>
<li><strong>剥夺调度方式</strong></li>
</ul>
<p>“剥夺” 不是一种任意性行为，必须遵循一定的原则：<strong>优先权原则，短进程优先原则和时间片原则</strong>。</p>
<p><strong>4） 调度的基本准则</strong></p>
<p>为了比较处理器调度算法的性能，下面介绍主要的几种准则：</p>
<ol>
<li><strong>CPU 利用率</strong></li>
<li><strong>系统吞吐量</strong>：单位时间内 CPU 完成作业的数量。</li>
<li><strong>周转时间</strong>：从作业提交到作业完成所经历的时间，包括作业等待，就绪队列中排队，在处理器上运行以及进行输入输出操作所花费的时间的总和。</li>
<li><strong>等待时间</strong>：进程处于等处理器状态时间之和，等待时间越长，用户满意度越低。</li>
<li><strong>响应时间</strong>：从用户提交请求到系统首次产生响应所有的时间。</li>
</ol>
<h3 id="2-9-调度算法"><a href="#2-9-调度算法" class="headerlink" title="2.9 调度算法"></a>2.9 调度算法</h3><p>常用的调度算法：</p>
<ul>
<li><strong>FIFS 先来先服务调度算法</strong></li>
</ul>
<p>特点：算法简单，但是效率低；有利于长作业，不利于短作业；有利于CPU繁忙型作业而不利于IO繁忙型作业。</p>
<ul>
<li><strong>SJF 短作业优先调度算法</strong></li>
</ul>
<p>缺点：①对长作业不理。②未考虑作业的紧迫程度。③ 作业的长短只根据用户所提供的估计执行时间而定的，而用户又可能会有意或无意的缩短其作业的估计运行时间，致使该算法不一定能真正做到算作业优先调度。 ④ SJF 调度算法的平均等待时间，平均周转时间最少。</p>
<ul>
<li><strong>优先级调度算法</strong></li>
</ul>
<ul>
<li><strong>高响应比优先调度算法</strong></li>
</ul>
<p>高响应比优先调度算法主要用于作业调度。同时考虑从每个作业的等待时间和估计需要运行的时间。</p>
<ul>
<li><strong>时间片轮转调度算法</strong></li>
</ul>
<p>时间片轮转调度算法主要适用于分时系统。</p>
<ul>
<li><strong>多级反馈队列调度算法</strong></li>
</ul>
<p>多级反馈队列调度算法主要是时间片轮转调度算法和优先级调度算法的综合和发展。通过动态调整进程优先级和时间片大小，多级反馈队列调度算法可以兼顾多方面的系统目标。</p>
<h3 id="2-10-进程同步"><a href="#2-10-进程同步" class="headerlink" title="2.10 进程同步"></a>2.10 进程同步</h3><p><strong>1) 进程同步的基本概念</strong></p>
<p>多道程序环境下，进程是并发执行的，不同进程间存在着不同的相互制约关系。为了协调进程之间的相互制约关系，达到资源共享和进程协作，避免进程之间的冲突，引入了进程同步的概念。</p>
<p><strong>临界资源</strong></p>
<p>多个进程可以共享系统中各种资源，但其中许多资源只能为一个进程所使用，我们把<strong>一次只允许一个进程使用的资源成为临界资源</strong>。</p>
<p>对临界资源的访问，必须互斥的进行。每个进程中，访问临界资源的那段代码成为临界区。</p>
<p><strong>同步</strong></p>
<p>进程间的直接制约关系就是它们之间的相互合作。</p>
<p><strong>互斥</strong></p>
<p>当一个进程进入临界区使用临界资源时，另一个进程必须等待，当占用临界资源的进程退出临界区后，另一个进程才允许去访问此临界资源。</p>
<p><strong>2）实现临界区互斥的基本方法</strong></p>
<p>在进入区设置和检查一些标志来表明是否有进程在临界区中，如果已有进程在临界区，则在进入区通过循环检查进行等待，进程离开临界区则在退出区修改标志。</p>
<p><strong>硬件实现方法：</strong></p>
<p>计算机提供了特殊的硬件指令，允许对一个字中的内容进行检测和修正，或者对两个字的内容进行交换等。</p>
<p>通过硬件支持实现临界段问题的低级方法或称为元方法。</p>
<ul>
<li>中断屏蔽方法：一个进程正在使用处理器执行他的临界区代码时，要防止去其他进程在进入其临界区访问的最简单方法就是禁止一切中断的发生，或称之为屏蔽中断、关中断。<strong>因为CPU只有在发生中断时引起进程的调度和切换</strong>，这样屏蔽中断就能保证当前运行进程将临界区代码顺利的执行完，然后再开中断。</li>
<li>TestAndSet 指令，Swap 指令。</li>
</ul>
<p><strong>3）信号量</strong></p>
<p>信号量机构是一种功能较强的机制，<strong>可以用来解决互斥与同步问题</strong>。它只能被两个标准原语 wait 和 signal 来访问，也可以记作 p操作 和 v 操作。</p>
<ul>
<li><strong>整形信号量</strong></li>
</ul>
<p>整形信号量被定义为一个用于表示资源个数的整形量 s。</p>
<ul>
<li><strong>记录性信号量</strong></li>
<li><strong>利用信号量实现同步</strong></li>
<li><strong>利用信号量实现互斥</strong></li>
<li><strong>利用信号量实现前驱关系</strong></li>
</ul>
<p><strong>4）管程</strong></p>
<p>管程是一组数据以及定义在这组数据之上的对这组数据的操作组成的软件模块，这组操作能初始化并改变管程中的数据和同步进程。</p>
<p><strong>5）经典同步问题</strong></p>
<p><strong>问题描述</strong>：一组生产者进程和一组消费者进程共享一个初始为空、大小为n的缓冲区，只有缓冲区没满时，生产者才能把消息放入到缓冲区，否则必须等待；只有缓冲区不为空时，消费者才能从中取出消息，否则必须等待。由于缓冲区是临界资源，它只允许一个生产者放入消息，或一个消费者从中取出消息。</p>
<p><strong>问题分析</strong>：</p>
<p>1）关系分析。生产者和消费者对缓冲区互斥访问是互斥关系，同时生产者和消费者又是一个相互协作的关系，只有生产者生产之后，消费者才能消费，他们也是同步关系。</p>
<p>2）整理思路。这里比较简单，只有生产者和消费者两个进程，正好是这两个进程存在着互斥关系和同步关系。那么需要解决的是胡吃喝同步PV操作的位置。</p>
<p>3）信号量的设置。信号量mutex作为互斥信号量，它用于控制互斥访问缓冲池，互斥信号量初始为1；信号量full用于记录当前缓冲池中“满”缓冲区数，初值为0.信号量empty用于记录当前缓冲池中空缓冲区，初值为n。</p>
<p>下面再看一个<strong>较为复杂</strong>的<strong>生产者-消费者问题</strong>：</p>
<p><strong>问题描述</strong>：桌子上有一只盘子，每次孩子能向其中放入一个水果。爸爸专向盘子中放入苹果，妈妈专向盘子中放入橘子，女儿专等吃盘子中的苹果，儿子专等吃盘子中的橘子。只有盘子为空时，爸爸或妈妈就可向盘子中放一只水果2；仅当盘子中有自己需要的水果时，儿子或女儿可以从盘子中取出。</p>
<p><strong>问题分析</strong>：</p>
<p>1）关系分析。这里的关系略微复杂一些，首先由每次只能向其中放入一只水果可知爸爸和妈妈是互斥关系。爸爸和女儿、妈妈和儿子是同步关系，而且这两对进城必须连起来，儿子和女儿之间没有互斥和同步关系，因为他们是选择条件执行，不可能并发。</p>
<p>2）整理思路。这里有4个进程，实际上可以抽象为两个生产者和两个消费者被连接到大小为1的缓冲区上。</p>
<p>3）信号量设置。首先设置信号量plate为互斥信号量，表示是否允许想盘子放水果，初值为1，表示允许放入，且只允许放一只。信号量apple表示盘子里是否有苹果，初值为0，表示盘子中无2苹果；信号量orange表示盘子中是否有橘子，初始量为0，表示盘子中无橘子。</p>
<p><strong>问题描述</strong>：有<strong>读者和写者两组并发进程</strong>，共享一个文件，当两个以上的读进程同事访问共享数据时不会产生副作用，但若某个写进程和其他进程（读进程或写进程）同时访问共享数据时则可能导致数据不一致的错误。因此要求：1）允许多个读者同时对文件执行读操作；2）只允许一个写者往文件中写信息；3）任一写者在完成写操作之前不允许其他读者或写者工作；4）写者执行完写操作前，应让已有的读者或写者全部退出。</p>
<p><strong>问题分析</strong>：</p>
<p>1）关系分析。由题目分析读者和写者是互斥的，写者和写者也是互斥的，而读者和读者不存在互斥关系。</p>
<p>2）整理思路。两个进程，即读者和写者。写者比较简凡，它和任何进程互斥，用互斥信号量p操作、v操作即可解决。读者的问题比较复杂，它必须实现与写着互斥的关系，还要实现和其他读者同步的关系。因此，紧急简单的一对pv操作时无法解决的。那么在这里用到了一个计数器，用它来判断当前是否有读者读文件。当有读者的时候，写着是无法写文件的，此时读者会一直占用文件，当没有读者的时候，写者才可以写文件。同事这里不同读者对计数器的访问也是互斥的。</p>
<p>3）信号量的设置。首先设置信号量count为计数器，用来记录当前读者数量，初值为0；设置mutex为互斥信号量，用于保护更新count变量时的互斥；设置互斥信号量rw用于保证读者和写者的互斥访问。</p>
<p><strong>问题描述：</strong>一张圆桌上坐着五个<strong>哲学家</strong>，每两个哲学家之间的桌子上摆着一根筷子，桌子的中间是一碗米饭。哲学家们倾注毕生精力用于思考和进餐，哲学家在思考是，并不影响其他人。只有当哲学家饥饿的时候，才视图拿起左右两根筷子。如果筷子已经在他人手上，则需等待。饥饿的哲学家只有同时拿到了两根筷子才可以开始进餐，当今参悟你比猴，放下筷子继续思考。</p>
<p><strong>问题分析：</strong></p>
<p>1）关系分析。五个哲学家与左右邻居对其中的筷子的访问是互斥关系。</p>
<p>2）整理思路。显然这五个进程，要解决的问题有两个：一个是让他们同时拿起两个筷子；而是对每个哲学家的动作执行规则，避免饥饿或者死锁现象发生。</p>
<p>3）信号量设置。定义互斥信号组chopsticks【5】={1,1,1,1,1}用于对五个筷子的互斥访问。</p>
<p>对哲学家按顺序0~4编号，哲学家i左边的筷子编号为i，哲学家右边的筷子编号为（i+1）%5。</p>
<p><strong>问题描述：</strong>假设一个系统有三个吸烟者进程和一个供应者进程。每个抽烟者不停的卷烟并抽调他，但是要卷起并抽掉一支烟，抽烟者必须要有三种材料：烟草、纸和胶水。三个抽烟者中，第一个有烟草，第二个有纸，第三个有胶水。供应者进程无线地提供提供三种材料。</p>
<p>供应者每次将两种材料放到桌子上，拥有剩下那种材料的抽烟者卷一根烟并抽掉它，并给供应者一个信号告诉完成了，供应者就会放另外两种材料在桌子上，这种过程一直重复。</p>
<p><strong>问题分析：</strong></p>
<p>1）关系分析。供应者与三个抽烟者分别是同步关系。由于供应者无法同时满足两个或两个以上的抽烟者，三个抽烟者对抽烟这个动作是互斥关系。</p>
<p>2）整理思路。显然这里有四个进程。供应者作为生产者向三个抽烟者提供材料。</p>
<p>3）信号量设置。信号量offer1、offer2、offer3分别表示烟草和纸组合的资源、烟草和胶水组合的资源、纸和胶水组合的资源。信号量finish 用于互斥进行抽烟动作。</p>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">Lovote</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://lovote-web.github.io/2020/07/19/2020-07-03-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E4%B8%80)/">http://lovote-web.github.io/2020/07/19/2020-07-03-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E4%B8%80)/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">Lovote</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/">
                                    <span class="chip bg-color">操作系统 进程管理</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/07/19/2020-07-03-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/17.jpg" class="responsive-img" alt="常用计算机网络">
                        
                        <span class="card-title">常用计算机网络</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
TOC{:toc}

计算机网络Http响应码
1XX：信息响应码，例如 100 表示到目前为止都很正常，客户端可以继续发送请求或者忽略这个响应。
2XX：成功状态码，例如 200 表示 OK，204 表示不包含实体，206 表示范围请求
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-07-19
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="post-category">
                                    计算机网络
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
                        <span class="chip bg-color">计算机网络</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/07/19/2020-07-03-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F(%E4%B8%89)/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/3.jpg" class="responsive-img" alt="操作系统(三)">
                        
                        <span class="card-title">操作系统(三)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
TOC{:toc}

第五章 输入输出管理5.1 IO 管理概述1、IO设备IO设备管理是操作系统设计中最凌乱也最具挑战性的部分。由于它包含了很多领域的不同设备以及与设备相关的应用程序，因此很难有一个通用且一直的设计方案。所以在理解设备管
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-07-19
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="post-category">
                                    操作系统
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%AE%A1%E7%90%86/">
                        <span class="chip bg-color">操作系统 输入输出管理</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: Hexo<br />'
            + '文章作者: Lovote<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1,h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1,h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/lovote-web" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>















</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
